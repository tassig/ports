package_name=linux-kernel-headers
package_version=4.4.6
tarball_suffix=xz
rel_url=kernel/linux-4.4.6.tar.xz
build_dependencies=
iscustombuild=1

custombuild(){
    rm -rf builddir
    mkdir -p builddir   # do everything in builddir for tidiness
    cd builddir
    if [ "$url" == "" ]; then
        # if no absolute $url defined, then assume, that we have relative url 
        # $rel_url
        url=$mirror_prefix/$rel_url
    fi
    wget -O archive $url
    tar xvf archive
    rm archive
    cd *   # cd into the package directory
    make INSTALL_HDR_PATH=$installdirectory/$package_name-$package_version/ headers_install
    ln -sv $installdirectory/$package_fullname $installdirectory/$package_name
    if [ -d "$installdirectory/$package_name/lib/pkgconfig" ]; then
        ln -svf $installdirectory/$package_name/lib/pkgconfig/* \
        $installdirectory/pkgconf/lib/pkgconfig/   # install pkg-config files
    fi
    cd ../..
    rm -r builddir

}
